{
  "comments": {
    "description": {
      "1": "This is sample daemon configuration for reading data out of old Elasticsearch index, running it though",
      "2": "a transformation transformer and storing in new Elasticsearch index. It will do so for all 3 subledgers."
    }
  },
  "objects": [
    {
      "interface": "Source",
      "impl": "elasticsearch",
      "params": {
        "id": "source.{{{INDY_NETWORK}}}",
        "url": "{{{URL_ELASTICSEARCH}}}",
        "subledger": "domain",
        "index": "txs-{{{INDY_NETWORK}}}"
      }
    },
    {
      "interface": "Source",
      "impl": "elasticsearch",
      "params": {
        "id": "source.{{{INDY_NETWORK}}}",
        "url": "{{{URL_ELASTICSEARCH}}}",
        "subledger": "domain",
        "index": "txs-{{{INDY_NETWORK}}}-new"
      }
    },
    {
      "interface": "Target",
      "impl": "elasticsearch",
      "params": {
        "id": "target.{{{INDY_NETWORK}}}",
        "url": "{{{URL_ELASTICSEARCH}}}",
        "replicas": 1,
        "index": "txs-{{{INDY_NETWORK}}}-new"
      }
    },
    {
      "interface": "Iterator",
      "impl": "guided-iterator",
      "params": {
        "id": "iterator.{{{INDY_NETWORK}}}",
        "source": "@@source.{{{INDY_NETWORK}}}",
        "sourceSeqNoGuidance": "@@source.target.{{{INDY_NETWORK}}}"
      }
    },
    {
      "interface": "Transformer",
      "impl": "expansion",
      "params": {
        "id": "transformer.expansion.{{{INDY_NETWORK}}}",
        "sourceDomainLookups": "@@source.target.{{{INDY_NETWORK}}}.domain"
      }
    },
    {
      "interface": "Worker",
      "impl": "worker-rtw",
      "params": {
        "id": "worker-rtw.{{{INDY_NETWORK}}}.domain",
        "iterator": "@@iterator.{{{INDY_NETWORK}}}.domain",
        "iteratorTxFormat": "original",
        "transformer": "@@transformer.expansion.{{{INDY_NETWORK}}}",
        "target": "@@target.{{{INDY_NETWORK}}}.domain",
        "timing": {
          "timeoutOnSuccess": 1000,
          "timeoutOnIteratorError": 5000,
          "timeoutOnTxNotAvailable": 4000,
          "jitterRatio": 0.4
        }
      }
    },
    {
      "interface": "Worker",
      "impl": "worker-rtw",
      "params": {
        "id": "worker-rtw.{{{INDY_NETWORK}}}.config",
        "iterator": "@@iterator.{{{INDY_NETWORK}}}.config",
        "iteratorTxFormat": "original",
        "transformer": "@@transformer.expansion.{{{INDY_NETWORK}}}",
        "target": "@@target.{{{INDY_NETWORK}}}.config",
        "timing": {
          "timeoutOnSuccess": 1000,
          "timeoutOnIteratorError": 5000,
          "timeoutOnTxNotAvailable": 4000,
          "jitterRatio": 0.4
        }
      }
    },
    {
      "interface": "Worker",
      "impl": "worker-rtw",
      "params": {
        "id": "worker-rtw.{{{INDY_NETWORK}}}.pool",
        "iterator": "@@iterator.{{{INDY_NETWORK}}}.pool",
        "iteratorTxFormat": "original",
        "transformer": "@@transformer.expansion.{{{INDY_NETWORK}}}",
        "target": "@@target.{{{INDY_NETWORK}}}.pool",
        "timing": {
          "timeoutOnSuccess": 1000,
          "timeoutOnIteratorError": 5000,
          "timeoutOnTxNotAvailable": 4000,
          "jitterRatio": 0.4
        }
      }
    }
  ]
}
